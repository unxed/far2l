From ffad6f1a979a5ce14bcf81bf7422a187faed24e0 Mon Sep 17 00:00:00 2001
From: akruphi <92621645+akruphi@users.noreply.github.com>
Date: Wed, 15 Jan 2025 18:42:02 +0300
Subject: [PATCH] Fix #2082 A fix for overlapping menus with panels (from
 far2m)

source: https://github.com/shmuz/far2m/commit/64454de160eb4fab17bdc2aa7b6558f0eebf81ce
fix #2082
---
 far2l/src/vmenu.cpp | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/far2l/src/vmenu.cpp b/far2l/src/vmenu.cpp
index bdee9a9a9..ef22d5758 100644
--- a/far2l/src/vmenu.cpp
+++ b/far2l/src/vmenu.cpp
@@ -1577,6 +1577,11 @@ void VMenu::DisplayObject()
 			SaveScr = new SaveScreen(X1, Y1, X2 + 2, Y2 + 1);
 	}
 
+	if (!CheckFlags(VMENU_LISTBOX)) {
+		DrawTitles();
+		WaitInMainLoop = FALSE;
+	}
+
 	ShowMenu(true, true);
 }
 
